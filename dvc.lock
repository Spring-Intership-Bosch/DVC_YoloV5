schema: '2.0'
stages:
  ingest:
    cmd: python3 src/ingest.py
    deps:
    - path: src/ingest.py
      md5: 9776700b148700760ae304cf60b579bc
      size: 675
    params:
      params.yaml:
        yolov5.ingest.dcount: 5
    outs:
    - path: data/prepared
      md5: f42c0eb285b255552921e9bd1969f52c.dir
      size: 141833186
      nfiles: 1888
  predict:
    cmd: python3 src/predict.py data/split data/predicted data/split
    deps:
    - path: data/split
      md5: 2f7b4f96fd38c902737621226b5c1546.dir
      size: 141086632
      nfiles: 1889
    - path: src/predict.py
      md5: eb9f13cd175f5f2d3787815f188630ff
      size: 832
    params:
      params.yaml:
        yolov5.ingest.dcount: 5
    outs:
    - path: data/predicted
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  transform:
    cmd: python3 src/transform.py data/prepared data/transformed
    deps:
    - path: data/prepared
      md5: f6eb12166cd084b26e83dd52d2b827ef.dir
      size: 533971
      nfiles: 10
    - path: src/transform.py
      md5: 1ef7d77a46b77b0929aad454bcf7d721
      size: 2419
    params:
      params.yaml:
        ingest.dcount: 1
    outs:
    - path: data/transformed
      md5: cd6a21d05f1d0c73b60d34d15a1fe584.dir
      size: 1751
      nfiles: 1
  evaluate:
    cmd: python3 src/evaluate.py data/prepared data/transformed data/predictions data/evaluated
      data/store
    deps:
    - path: data/predictions
      md5: 9a6564485e70e293a939edb530bd46e7.dir
      size: 1466
      nfiles: 1
    - path: data/prepared
      md5: f6eb12166cd084b26e83dd52d2b827ef.dir
      size: 533971
      nfiles: 10
    - path: data/transformed
      md5: cd6a21d05f1d0c73b60d34d15a1fe584.dir
      size: 1751
      nfiles: 1
    params:
      params.yaml:
        ingest.dcount: 1
    outs:
    - path: data/evaluated
      md5: 6597630622cf7ddd531bc0a2d1d3bcfa.dir
      size: 560713
      nfiles: 5
  train:
    cmd: python3 src/train.py data/split data/trained data/augmented
    deps:
    - path: data/augmented
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: data/split
      md5: 3b4e54e3c71712993c9c570f4b82a6fb.dir
      size: 200259628
      nfiles: 3304
    - path: src/train.py
      md5: f5c4bf7d568b13b5377d9e02e60e1423
      size: 853
    params:
      params.yaml:
        yolov5.ingest.dcount: 5
    outs:
    - path: data/trained
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  split:
    cmd: python3 src/split.py data/prepared data/split
    deps:
    - path: data/prepared
      md5: 4e90d609d6254bc522d662d843427cc0.dir
      size: 141886902
      nfiles: 2832
    - path: src/split.py
      md5: 105ffac08d108979e4f604ea3d15f038
      size: 3846
    params:
      params.yaml:
        yolov5.ingest.dcount: 5
    outs:
    - path: data/split
      md5: c6f3bb682585e8292624ce698f4bc495.dir
      size: 141061968
      nfiles: 1888
  augment:
    cmd: python3 src/augment.py data/split data/augmented
    deps:
    - path: data/split
      md5: eda6a3b2ca2f3452f345a1394204975f.dir
      size: 199843692
      nfiles: 3303
    - path: src/augment.py
      md5: 44a8dd064cff247a48db218b260474cd
      size: 4778
    params:
      params.yaml:
        yolov5.ingest.dcount: 5
    outs:
    - path: data/augmented
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  compare:
    cmd: python3 src/compare.py data/trained data/compared data/predicted
    deps:
    - path: data/predicted
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: data/trained
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: src/compare.py
      md5: d7d56ce538cac761d77e7a04620aecc0
      size: 2606
    params:
      params.yaml:
        yolov5.hyps.epochs: 5
        yolov5.ingest.dcount: 5
        yolov5.weights: runs/yolov5/train/exp5/weights/best.pt
    outs:
    - path: data/compared
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
